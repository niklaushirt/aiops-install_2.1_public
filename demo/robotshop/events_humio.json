{ "repository": "aiops", "timestamp": "2021-03-18T06:25:57.909Z", "alert": { "name": "RobotShopCatalogueProblem", "description": "resource.name=\"catalogue\" severity=Minor resource.hostname=catalogue type.eventType=\"robotshop\"", "query": { "queryString": "\"kubernetes.namespace_name\" = \"robot-shop\"\n| @rawstring = /Error: failed with status code 500/i\n| \"kubernetes.container_name\" = catalogue ", "end": "now", "start": "15s" }, "notifierID": "GelcGmqHi7lKlqc8mvbfOODMn04cESAh", "id": "Ve7EcwvyhhGTsgLglKDug64ofbV6ODoG" }, "warnings": "", "events": [ { "kubernetes.namespace_name": "robot-shop", "@timestamp": 1616048748853, "kubernetes.host": "10.194.163.29", "kubernetes.container_hash": "docker.io/robotshop/rs-catalogue@sha256:f333c26d08cd4f8d649cd0a891d5f80cc9c26a846d745dcac27d5c5210bdbc89", "kubernetes.docker_id": "e2d7e631b1ed7dc580e1fa17a6cb8b40a086abbf47a089af70b015ba3502abf2", "kubernetes.container_name": "catalogue", "kubernetes.labels.pod-template-hash": "78c8597bdb", "kubernetes.container_image": "docker.io/robotshop/rs-catalogue:latest", "kubernetes.annotations.k8s_v1_cni_cncf_io/networks-status": "[{\n \"name\": \"k8s-pod-network\",\n \"ips\": [\n \"172.30.220.148\"\n ],\n \"default\": true,\n \"dns\": {}\n}]", "@timezone": "Z", "#humioAutoShard": "0", "kubernetes.annotations.cni_projectcalico_org/podIPs": "172.30.220.148/32", "kubernetes.labels.service": "catalogue", "@rawstring": "2021-03-18T01:25:48.853846252-05:00 stdout F {\"level\":\"info\",\"time\":1616048748853,\"pid\":1,\"hostname\":\"catalogue-78c8597bdb-zpwkl\",\"req\":{\"id\":99713,\"method\":\"GET\",\"url\":\"/categories\",\"headers\":{\"host\":\"catalogue:8080\",\"connection\":\"close\",\"user-agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:88.0) Gecko/20100101 Firefox/88.0\",\"accept\":\"application/json, text/plain, */*\",\"accept-language\":\"en\",\"accept-encoding\":\"gzip, deflate\",\"x-instana-t\":\"7774d22e48eb6da\",\"x-instana-s\":\"7774d22e48eb6da\",\"x-instana-l\":\"1,correlationType=web;correlationId=7774d22e48eb6da\",\"referer\":\"http://robotshop-robot-shop.demo215-prod-cluster-a376efc1170b9b8ace6422196c51e491-0000.eu-de.containers.appdomain.cloud/\",\"x-forwarded-host\":\"robotshop-robot-shop.demo215-prod-cluster-a376efc1170b9b8ace6422196c51e491-0000.eu-de.containers.appdomain.cloud\",\"x-forwarded-port\":\"80\",\"x-forwarded-proto\":\"http\",\"forwarded\":\"for=10.194.163.17;host=robotshop-robot-shop.demo215-prod-cluster-a376efc1170b9b8ace6422196c51e491-0000.eu-de.containers.appdomain.cloud;proto=http\",\"x-forwarded-for\":\"10.194.163.17\"},\"remoteAddress\":\"::ffff:172.30.24.123\",\"remotePort\":54982},\"res\":{\"statusCode\":500,\"headers\":{\"server-timing\":\"intid;desc=51193495e3291e46\",\"x-powered-by\":\"Express\",\"timing-allow-origin\":\"*\",\"access-control-allow-origin\":\"*\",\"content-type\":\"application/json; charset=utf-8\",\"content-length\":\"66\",\"etag\":\"W/\\\"42-BnaYEIk0wbf4e3CVqRpZYTmQ43w\\\"\"}},\"err\":{\"type\":\"Error\",\"message\":\"failed with status code 500\",\"stack\":\"Error: failed with status code 500\\n at ServerResponse.onResFinished (/opt/server/node_modules/pino-http/logger.js:67:38)\\n at ServerResponse.clsBind (/opt/server/node_modules/@instana/core/src/tracing/clsHooked/context.js:196:17)\\n at ServerResponse.emit (events.js:203:15)\\n at ServerResponse.emitted (/opt/server/node_modules/emitter-listener/listener.js:134:21)\\n at onFinish (_http_outgoing.js:671:10)\\n at process._tickCallback (internal/process/next_tick.js:61:11)\"},\"responseTime\":19625,\"msg\":\"request errored \",\"v\":1}", "@id": "e83fxE7AEyT5XVPehBmvRymR_1275_912_1616048748", "kubernetes.annotations.openshift_io/scc": "anyuid", "#type": "unparsed", "kubernetes.annotations.k8s_v1_cni_cncf_io/network-status": "[{\n \"name\": \"k8s-pod-network\",\n \"ips\": [\n \"172.30.220.148\"\n ],\n \"default\": true,\n \"dns\": {}\n}]", "kubernetes.annotations.cni_projectcalico_org/podIP": "172.30.220.148/32", "#repo": "aiops", "kubernetes.pod_name": "catalogue-78c8597bdb-zpwkl", "kubernetes.pod_id": "cee51cdc-73d7-4e39-861f-0c7f0f79e192" } ], "numberOfEvents": 6 }
{ "repository": "aiops", "timestamp": "2021-03-18T06:25:57.909Z", "alert": { "name": "RobotShopCatalogueMongoProblem", "description": "resource.name=\"catalogue\" severity=Major resource.hostname=catalogue-db type.eventType=\"robotshop\"", "query": { "queryString": "\"kubernetes.namespace_name\" = \"robot-shop\"\n| @rawstring = /MongoError/i\n| \"kubernetes.container_name\" = catalogue ", "end": "now", "start": "15s" }, "notifierID": "GelcGmqHi7lKlqc8mvbfOODMn04cESAh", "id": "Ve7EcwvyhhGTsgLglKDug64ofbV6ODoG" }, "warnings": "", "events": [ { "kubernetes.namespace_name": "robot-shop", "@timestamp": 1616048748853, "kubernetes.host": "10.194.163.29", "kubernetes.container_hash": "docker.io/robotshop/rs-catalogue@sha256:f333c26d08cd4f8d649cd0a891d5f80cc9c26a846d745dcac27d5c5210bdbc89", "kubernetes.docker_id": "e2d7e631b1ed7dc580e1fa17a6cb8b40a086abbf47a089af70b015ba3502abf2", "kubernetes.container_name": "catalogue", "kubernetes.labels.pod-template-hash": "78c8597bdb", "kubernetes.container_image": "docker.io/robotshop/rs-catalogue:latest", "kubernetes.annotations.k8s_v1_cni_cncf_io/networks-status": "[{\n \"name\": \"k8s-pod-network\",\n \"ips\": [\n \"172.30.220.148\"\n ],\n \"default\": true,\n \"dns\": {}\n}]", "@timezone": "Z", "#humioAutoShard": "0", "kubernetes.annotations.cni_projectcalico_org/podIPs": "172.30.220.148/32", "kubernetes.labels.service": "catalogue", "@rawstring": "2021-03-18T01:25:48.853846252-05:00 stdout F {\"level\":\"info\",\"time\":1616048748853,\"pid\":1,\"hostname\":\"catalogue-78c8597bdb-zpwkl\",\"req\":{\"id\":99713,\"method\":\"GET\",\"url\":\"/categories\",\"headers\":{\"host\":\"catalogue:8080\",\"connection\":\"close\",\"user-agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:88.0) Gecko/20100101 Firefox/88.0\",\"accept\":\"application/json, text/plain, */*\",\"accept-language\":\"en\",\"accept-encoding\":\"gzip, deflate\",\"x-instana-t\":\"7774d22e48eb6da\",\"x-instana-s\":\"7774d22e48eb6da\",\"x-instana-l\":\"1,correlationType=web;correlationId=7774d22e48eb6da\",\"referer\":\"http://robotshop-robot-shop.demo215-prod-cluster-a376efc1170b9b8ace6422196c51e491-0000.eu-de.containers.appdomain.cloud/\",\"x-forwarded-host\":\"robotshop-robot-shop.demo215-prod-cluster-a376efc1170b9b8ace6422196c51e491-0000.eu-de.containers.appdomain.cloud\",\"x-forwarded-port\":\"80\",\"x-forwarded-proto\":\"http\",\"forwarded\":\"for=10.194.163.17;host=robotshop-robot-shop.demo215-prod-cluster-a376efc1170b9b8ace6422196c51e491-0000.eu-de.containers.appdomain.cloud;proto=http\",\"x-forwarded-for\":\"10.194.163.17\"},\"remoteAddress\":\"::ffff:172.30.24.123\",\"remotePort\":54982},\"res\":{\"statusCode\":500,\"headers\":{\"server-timing\":\"intid;desc=51193495e3291e46\",\"x-powered-by\":\"Express\",\"timing-allow-origin\":\"*\",\"access-control-allow-origin\":\"*\",\"content-type\":\"application/json; charset=utf-8\",\"content-length\":\"66\",\"etag\":\"W/\\\"42-BnaYEIk0wbf4e3CVqRpZYTmQ43w\\\"\"}},\"err\":{\"type\":\"Error\",\"message\":\"failed with status code 500\",\"stack\":\"Error: failed with status code 500\\n at ServerResponse.onResFinished (/opt/server/node_modules/pino-http/logger.js:67:38)\\n at ServerResponse.clsBind (/opt/server/node_modules/@instana/core/src/tracing/clsHooked/context.js:196:17)\\n at ServerResponse.emit (events.js:203:15)\\n at ServerResponse.emitted (/opt/server/node_modules/emitter-listener/listener.js:134:21)\\n at onFinish (_http_outgoing.js:671:10)\\n at process._tickCallback (internal/process/next_tick.js:61:11)\"},\"responseTime\":19625,\"msg\":\"request errored \",\"v\":1}", "@id": "e83fxE7AEyT5XVPehBmvRymR_1275_912_1616048748", "kubernetes.annotations.openshift_io/scc": "anyuid", "#type": "unparsed", "kubernetes.annotations.k8s_v1_cni_cncf_io/network-status": "[{\n \"name\": \"k8s-pod-network\",\n \"ips\": [\n \"172.30.220.148\"\n ],\n \"default\": true,\n \"dns\": {}\n}]", "kubernetes.annotations.cni_projectcalico_org/podIP": "172.30.220.148/32", "#repo": "aiops", "kubernetes.pod_name": "catalogue-78c8597bdb-zpwkl", "kubernetes.pod_id": "cee51cdc-73d7-4e39-861f-0c7f0f79e192" } ], "numberOfEvents": 6 }
{ "repository": "aiops", "timestamp": "2021-03-18T06:25:57.909Z", "alert": { "name": "RobotShopMongoProblem", "description": "resource.name=\"mongodb\" severity=Critical resource.hostname=mongodb type.eventType=\"robotshop\"", "query": { "queryString": "\"kubernetes.namespace_name\" = \"robot-shop\"\n| @rawstring = /MongoError/i\n| \"kubernetes.container_name\" = catalogue ", "end": "now", "start": "15s" }, "notifierID": "GelcGmqHi7lKlqc8mvbfOODMn04cESAh", "id": "Ve7EcwvyhhGTsgLglKDug64ofbV6ODoG" }, "warnings": "", "events": [ { "kubernetes.namespace_name": "robot-shop", "@timestamp": 1616048748853, "kubernetes.host": "10.194.163.29", "kubernetes.container_hash": "docker.io/robotshop/rs-catalogue@sha256:f333c26d08cd4f8d649cd0a891d5f80cc9c26a846d745dcac27d5c5210bdbc89", "kubernetes.docker_id": "e2d7e631b1ed7dc580e1fa17a6cb8b40a086abbf47a089af70b015ba3502abf2", "kubernetes.container_name": "catalogue", "kubernetes.labels.pod-template-hash": "78c8597bdb", "kubernetes.container_image": "docker.io/robotshop/rs-catalogue:latest", "kubernetes.annotations.k8s_v1_cni_cncf_io/networks-status": "[{\n \"name\": \"k8s-pod-network\",\n \"ips\": [\n \"172.30.220.148\"\n ],\n \"default\": true,\n \"dns\": {}\n}]", "@timezone": "Z", "#humioAutoShard": "0", "kubernetes.annotations.cni_projectcalico_org/podIPs": "172.30.220.148/32", "kubernetes.labels.service": "catalogue", "@rawstring": "2021-03-18T01:25:48.853846252-05:00 stdout F {\"level\":\"info\",\"time\":1616048748853,\"pid\":1,\"hostname\":\"catalogue-78c8597bdb-zpwkl\",\"req\":{\"id\":99713,\"method\":\"GET\",\"url\":\"/categories\",\"headers\":{\"host\":\"catalogue:8080\",\"connection\":\"close\",\"user-agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:88.0) Gecko/20100101 Firefox/88.0\",\"accept\":\"application/json, text/plain, */*\",\"accept-language\":\"en\",\"accept-encoding\":\"gzip, deflate\",\"x-instana-t\":\"7774d22e48eb6da\",\"x-instana-s\":\"7774d22e48eb6da\",\"x-instana-l\":\"1,correlationType=web;correlationId=7774d22e48eb6da\",\"referer\":\"http://robotshop-robot-shop.demo215-prod-cluster-a376efc1170b9b8ace6422196c51e491-0000.eu-de.containers.appdomain.cloud/\",\"x-forwarded-host\":\"robotshop-robot-shop.demo215-prod-cluster-a376efc1170b9b8ace6422196c51e491-0000.eu-de.containers.appdomain.cloud\",\"x-forwarded-port\":\"80\",\"x-forwarded-proto\":\"http\",\"forwarded\":\"for=10.194.163.17;host=robotshop-robot-shop.demo215-prod-cluster-a376efc1170b9b8ace6422196c51e491-0000.eu-de.containers.appdomain.cloud;proto=http\",\"x-forwarded-for\":\"10.194.163.17\"},\"remoteAddress\":\"::ffff:172.30.24.123\",\"remotePort\":54982},\"res\":{\"statusCode\":500,\"headers\":{\"server-timing\":\"intid;desc=51193495e3291e46\",\"x-powered-by\":\"Express\",\"timing-allow-origin\":\"*\",\"access-control-allow-origin\":\"*\",\"content-type\":\"application/json; charset=utf-8\",\"content-length\":\"66\",\"etag\":\"W/\\\"42-BnaYEIk0wbf4e3CVqRpZYTmQ43w\\\"\"}},\"err\":{\"type\":\"Error\",\"message\":\"failed with status code 500\",\"stack\":\"Error: failed with status code 500\\n at ServerResponse.onResFinished (/opt/server/node_modules/pino-http/logger.js:67:38)\\n at ServerResponse.clsBind (/opt/server/node_modules/@instana/core/src/tracing/clsHooked/context.js:196:17)\\n at ServerResponse.emit (events.js:203:15)\\n at ServerResponse.emitted (/opt/server/node_modules/emitter-listener/listener.js:134:21)\\n at onFinish (_http_outgoing.js:671:10)\\n at process._tickCallback (internal/process/next_tick.js:61:11)\"},\"responseTime\":19625,\"msg\":\"request errored \",\"v\":1}", "@id": "e83fxE7AEyT5XVPehBmvRymR_1275_912_1616048748", "kubernetes.annotations.openshift_io/scc": "anyuid", "#type": "unparsed", "kubernetes.annotations.k8s_v1_cni_cncf_io/network-status": "[{\n \"name\": \"k8s-pod-network\",\n \"ips\": [\n \"172.30.220.148\"\n ],\n \"default\": true,\n \"dns\": {}\n}]", "kubernetes.annotations.cni_projectcalico_org/podIP": "172.30.220.148/32", "#repo": "aiops", "kubernetes.pod_name": "catalogue-78c8597bdb-zpwkl", "kubernetes.pod_id": "cee51cdc-73d7-4e39-861f-0c7f0f79e192" } ], "numberOfEvents": 6 }
{ "repository": "aiops", "timestamp": "2021-03-18T06:25:57.909Z", "alert": { "name": "RobotShopMongoProblem", "description": "resource.name=\"mongodb\" severity=Critical resource.hostname=mongodb type.eventType=\"robotshop\"", "query": { "queryString": "\"kubernetes.namespace_name\" = \"robot-shop\"\n| @rawstring = /MongoError/i\n| \"kubernetes.container_name\" = catalogue ", "end": "now", "start": "15s" }, "notifierID": "GelcGmqHi7lKlqc8mvbfOODMn04cESAh", "id": "Ve7EcwvyhhGTsgLglKDug64ofbV6ODoG" }, "warnings": "", "events": [ { "kubernetes.namespace_name": "robot-shop", "@timestamp": 1616048748853, "kubernetes.host": "10.194.163.29", "kubernetes.container_hash": "docker.io/robotshop/rs-catalogue@sha256:f333c26d08cd4f8d649cd0a891d5f80cc9c26a846d745dcac27d5c5210bdbc89", "kubernetes.docker_id": "e2d7e631b1ed7dc580e1fa17a6cb8b40a086abbf47a089af70b015ba3502abf2", "kubernetes.container_name": "catalogue", "kubernetes.labels.pod-template-hash": "78c8597bdb", "kubernetes.container_image": "docker.io/robotshop/rs-catalogue:latest", "kubernetes.annotations.k8s_v1_cni_cncf_io/networks-status": "[{\n \"name\": \"k8s-pod-network\",\n \"ips\": [\n \"172.30.220.148\"\n ],\n \"default\": true,\n \"dns\": {}\n}]", "@timezone": "Z", "#humioAutoShard": "0", "kubernetes.annotations.cni_projectcalico_org/podIPs": "172.30.220.148/32", "kubernetes.labels.service": "catalogue", "@rawstring": "2021-03-18T01:25:48.853846252-05:00 stdout F {\"level\":\"info\",\"time\":1616048748853,\"pid\":1,\"hostname\":\"catalogue-78c8597bdb-zpwkl\",\"req\":{\"id\":99713,\"method\":\"GET\",\"url\":\"/categories\",\"headers\":{\"host\":\"catalogue:8080\",\"connection\":\"close\",\"user-agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:88.0) Gecko/20100101 Firefox/88.0\",\"accept\":\"application/json, text/plain, */*\",\"accept-language\":\"en\",\"accept-encoding\":\"gzip, deflate\",\"x-instana-t\":\"7774d22e48eb6da\",\"x-instana-s\":\"7774d22e48eb6da\",\"x-instana-l\":\"1,correlationType=web;correlationId=7774d22e48eb6da\",\"referer\":\"http://robotshop-robot-shop.demo215-prod-cluster-a376efc1170b9b8ace6422196c51e491-0000.eu-de.containers.appdomain.cloud/\",\"x-forwarded-host\":\"robotshop-robot-shop.demo215-prod-cluster-a376efc1170b9b8ace6422196c51e491-0000.eu-de.containers.appdomain.cloud\",\"x-forwarded-port\":\"80\",\"x-forwarded-proto\":\"http\",\"forwarded\":\"for=10.194.163.17;host=robotshop-robot-shop.demo215-prod-cluster-a376efc1170b9b8ace6422196c51e491-0000.eu-de.containers.appdomain.cloud;proto=http\",\"x-forwarded-for\":\"10.194.163.17\"},\"remoteAddress\":\"::ffff:172.30.24.123\",\"remotePort\":54982},\"res\":{\"statusCode\":500,\"headers\":{\"server-timing\":\"intid;desc=51193495e3291e46\",\"x-powered-by\":\"Express\",\"timing-allow-origin\":\"*\",\"access-control-allow-origin\":\"*\",\"content-type\":\"application/json; charset=utf-8\",\"content-length\":\"66\",\"etag\":\"W/\\\"42-BnaYEIk0wbf4e3CVqRpZYTmQ43w\\\"\"}},\"err\":{\"type\":\"Error\",\"message\":\"failed with status code 500\",\"stack\":\"Error: failed with status code 500\\n at ServerResponse.onResFinished (/opt/server/node_modules/pino-http/logger.js:67:38)\\n at ServerResponse.clsBind (/opt/server/node_modules/@instana/core/src/tracing/clsHooked/context.js:196:17)\\n at ServerResponse.emit (events.js:203:15)\\n at ServerResponse.emitted (/opt/server/node_modules/emitter-listener/listener.js:134:21)\\n at onFinish (_http_outgoing.js:671:10)\\n at process._tickCallback (internal/process/next_tick.js:61:11)\"},\"responseTime\":19625,\"msg\":\"request errored \",\"v\":1}", "@id": "e83fxE7AEyT5XVPehBmvRymR_1275_912_1616048748", "kubernetes.annotations.openshift_io/scc": "anyuid", "#type": "unparsed", "kubernetes.annotations.k8s_v1_cni_cncf_io/network-status": "[{\n \"name\": \"k8s-pod-network\",\n \"ips\": [\n \"172.30.220.148\"\n ],\n \"default\": true,\n \"dns\": {}\n}]", "kubernetes.annotations.cni_projectcalico_org/podIP": "172.30.220.148/32", "#repo": "aiops", "kubernetes.pod_name": "catalogue-78c8597bdb-zpwkl", "kubernetes.pod_id": "cee51cdc-73d7-4e39-861f-0c7f0f79e192" } ], "numberOfEvents": 6 }
{ "repository": "aiops", "timestamp": "2021-03-18T06:25:57.909Z", "alert": { "name": "RobotShopMongoProblem", "description": "resource.name=\"mongodb\" severity=Critical resource.hostname=mongodb type.eventType=\"robotshop\"", "query": { "queryString": "\"kubernetes.namespace_name\" = \"robot-shop\"\n| @rawstring = /MongoError/i\n| \"kubernetes.container_name\" = catalogue ", "end": "now", "start": "15s" }, "notifierID": "GelcGmqHi7lKlqc8mvbfOODMn04cESAh", "id": "Ve7EcwvyhhGTsgLglKDug64ofbV6ODoG" }, "warnings": "", "events": [ { "kubernetes.namespace_name": "robot-shop", "@timestamp": 1616048748853, "kubernetes.host": "10.194.163.29", "kubernetes.container_hash": "docker.io/robotshop/rs-catalogue@sha256:f333c26d08cd4f8d649cd0a891d5f80cc9c26a846d745dcac27d5c5210bdbc89", "kubernetes.docker_id": "e2d7e631b1ed7dc580e1fa17a6cb8b40a086abbf47a089af70b015ba3502abf2", "kubernetes.container_name": "catalogue", "kubernetes.labels.pod-template-hash": "78c8597bdb", "kubernetes.container_image": "docker.io/robotshop/rs-catalogue:latest", "kubernetes.annotations.k8s_v1_cni_cncf_io/networks-status": "[{\n \"name\": \"k8s-pod-network\",\n \"ips\": [\n \"172.30.220.148\"\n ],\n \"default\": true,\n \"dns\": {}\n}]", "@timezone": "Z", "#humioAutoShard": "0", "kubernetes.annotations.cni_projectcalico_org/podIPs": "172.30.220.148/32", "kubernetes.labels.service": "catalogue", "@rawstring": "2021-03-18T01:25:48.853846252-05:00 stdout F {\"level\":\"info\",\"time\":1616048748853,\"pid\":1,\"hostname\":\"catalogue-78c8597bdb-zpwkl\",\"req\":{\"id\":99713,\"method\":\"GET\",\"url\":\"/categories\",\"headers\":{\"host\":\"catalogue:8080\",\"connection\":\"close\",\"user-agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:88.0) Gecko/20100101 Firefox/88.0\",\"accept\":\"application/json, text/plain, */*\",\"accept-language\":\"en\",\"accept-encoding\":\"gzip, deflate\",\"x-instana-t\":\"7774d22e48eb6da\",\"x-instana-s\":\"7774d22e48eb6da\",\"x-instana-l\":\"1,correlationType=web;correlationId=7774d22e48eb6da\",\"referer\":\"http://robotshop-robot-shop.demo215-prod-cluster-a376efc1170b9b8ace6422196c51e491-0000.eu-de.containers.appdomain.cloud/\",\"x-forwarded-host\":\"robotshop-robot-shop.demo215-prod-cluster-a376efc1170b9b8ace6422196c51e491-0000.eu-de.containers.appdomain.cloud\",\"x-forwarded-port\":\"80\",\"x-forwarded-proto\":\"http\",\"forwarded\":\"for=10.194.163.17;host=robotshop-robot-shop.demo215-prod-cluster-a376efc1170b9b8ace6422196c51e491-0000.eu-de.containers.appdomain.cloud;proto=http\",\"x-forwarded-for\":\"10.194.163.17\"},\"remoteAddress\":\"::ffff:172.30.24.123\",\"remotePort\":54982},\"res\":{\"statusCode\":500,\"headers\":{\"server-timing\":\"intid;desc=51193495e3291e46\",\"x-powered-by\":\"Express\",\"timing-allow-origin\":\"*\",\"access-control-allow-origin\":\"*\",\"content-type\":\"application/json; charset=utf-8\",\"content-length\":\"66\",\"etag\":\"W/\\\"42-BnaYEIk0wbf4e3CVqRpZYTmQ43w\\\"\"}},\"err\":{\"type\":\"Error\",\"message\":\"failed with status code 500\",\"stack\":\"Error: failed with status code 500\\n at ServerResponse.onResFinished (/opt/server/node_modules/pino-http/logger.js:67:38)\\n at ServerResponse.clsBind (/opt/server/node_modules/@instana/core/src/tracing/clsHooked/context.js:196:17)\\n at ServerResponse.emit (events.js:203:15)\\n at ServerResponse.emitted (/opt/server/node_modules/emitter-listener/listener.js:134:21)\\n at onFinish (_http_outgoing.js:671:10)\\n at process._tickCallback (internal/process/next_tick.js:61:11)\"},\"responseTime\":19625,\"msg\":\"request errored \",\"v\":1}", "@id": "e83fxE7AEyT5XVPehBmvRymR_1275_912_1616048748", "kubernetes.annotations.openshift_io/scc": "anyuid", "#type": "unparsed", "kubernetes.annotations.k8s_v1_cni_cncf_io/network-status": "[{\n \"name\": \"k8s-pod-network\",\n \"ips\": [\n \"172.30.220.148\"\n ],\n \"default\": true,\n \"dns\": {}\n}]", "kubernetes.annotations.cni_projectcalico_org/podIP": "172.30.220.148/32", "#repo": "aiops", "kubernetes.pod_name": "catalogue-78c8597bdb-zpwkl", "kubernetes.pod_id": "cee51cdc-73d7-4e39-861f-0c7f0f79e192" } ], "numberOfEvents": 6 }
{ "repository": "aiops", "timestamp": "2021-03-18T06:25:57.909Z", "alert": { "name": "RobotShopMongoProblem", "description": "resource.name=\"mongodb\" severity=Critical resource.hostname=mongodb type.eventType=\"robotshop\"", "query": { "queryString": "\"kubernetes.namespace_name\" = \"robot-shop\"\n| @rawstring = /MongoError/i\n| \"kubernetes.container_name\" = catalogue ", "end": "now", "start": "15s" }, "notifierID": "GelcGmqHi7lKlqc8mvbfOODMn04cESAh", "id": "Ve7EcwvyhhGTsgLglKDug64ofbV6ODoG" }, "warnings": "", "events": [ { "kubernetes.namespace_name": "robot-shop", "@timestamp": 1616048748853, "kubernetes.host": "10.194.163.29", "kubernetes.container_hash": "docker.io/robotshop/rs-catalogue@sha256:f333c26d08cd4f8d649cd0a891d5f80cc9c26a846d745dcac27d5c5210bdbc89", "kubernetes.docker_id": "e2d7e631b1ed7dc580e1fa17a6cb8b40a086abbf47a089af70b015ba3502abf2", "kubernetes.container_name": "catalogue", "kubernetes.labels.pod-template-hash": "78c8597bdb", "kubernetes.container_image": "docker.io/robotshop/rs-catalogue:latest", "kubernetes.annotations.k8s_v1_cni_cncf_io/networks-status": "[{\n \"name\": \"k8s-pod-network\",\n \"ips\": [\n \"172.30.220.148\"\n ],\n \"default\": true,\n \"dns\": {}\n}]", "@timezone": "Z", "#humioAutoShard": "0", "kubernetes.annotations.cni_projectcalico_org/podIPs": "172.30.220.148/32", "kubernetes.labels.service": "catalogue", "@rawstring": "2021-03-18T01:25:48.853846252-05:00 stdout F {\"level\":\"info\",\"time\":1616048748853,\"pid\":1,\"hostname\":\"catalogue-78c8597bdb-zpwkl\",\"req\":{\"id\":99713,\"method\":\"GET\",\"url\":\"/categories\",\"headers\":{\"host\":\"catalogue:8080\",\"connection\":\"close\",\"user-agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:88.0) Gecko/20100101 Firefox/88.0\",\"accept\":\"application/json, text/plain, */*\",\"accept-language\":\"en\",\"accept-encoding\":\"gzip, deflate\",\"x-instana-t\":\"7774d22e48eb6da\",\"x-instana-s\":\"7774d22e48eb6da\",\"x-instana-l\":\"1,correlationType=web;correlationId=7774d22e48eb6da\",\"referer\":\"http://robotshop-robot-shop.demo215-prod-cluster-a376efc1170b9b8ace6422196c51e491-0000.eu-de.containers.appdomain.cloud/\",\"x-forwarded-host\":\"robotshop-robot-shop.demo215-prod-cluster-a376efc1170b9b8ace6422196c51e491-0000.eu-de.containers.appdomain.cloud\",\"x-forwarded-port\":\"80\",\"x-forwarded-proto\":\"http\",\"forwarded\":\"for=10.194.163.17;host=robotshop-robot-shop.demo215-prod-cluster-a376efc1170b9b8ace6422196c51e491-0000.eu-de.containers.appdomain.cloud;proto=http\",\"x-forwarded-for\":\"10.194.163.17\"},\"remoteAddress\":\"::ffff:172.30.24.123\",\"remotePort\":54982},\"res\":{\"statusCode\":500,\"headers\":{\"server-timing\":\"intid;desc=51193495e3291e46\",\"x-powered-by\":\"Express\",\"timing-allow-origin\":\"*\",\"access-control-allow-origin\":\"*\",\"content-type\":\"application/json; charset=utf-8\",\"content-length\":\"66\",\"etag\":\"W/\\\"42-BnaYEIk0wbf4e3CVqRpZYTmQ43w\\\"\"}},\"err\":{\"type\":\"Error\",\"message\":\"failed with status code 500\",\"stack\":\"Error: failed with status code 500\\n at ServerResponse.onResFinished (/opt/server/node_modules/pino-http/logger.js:67:38)\\n at ServerResponse.clsBind (/opt/server/node_modules/@instana/core/src/tracing/clsHooked/context.js:196:17)\\n at ServerResponse.emit (events.js:203:15)\\n at ServerResponse.emitted (/opt/server/node_modules/emitter-listener/listener.js:134:21)\\n at onFinish (_http_outgoing.js:671:10)\\n at process._tickCallback (internal/process/next_tick.js:61:11)\"},\"responseTime\":19625,\"msg\":\"request errored \",\"v\":1}", "@id": "e83fxE7AEyT5XVPehBmvRymR_1275_912_1616048748", "kubernetes.annotations.openshift_io/scc": "anyuid", "#type": "unparsed", "kubernetes.annotations.k8s_v1_cni_cncf_io/network-status": "[{\n \"name\": \"k8s-pod-network\",\n \"ips\": [\n \"172.30.220.148\"\n ],\n \"default\": true,\n \"dns\": {}\n}]", "kubernetes.annotations.cni_projectcalico_org/podIP": "172.30.220.148/32", "#repo": "aiops", "kubernetes.pod_name": "catalogue-78c8597bdb-zpwkl", "kubernetes.pod_id": "cee51cdc-73d7-4e39-861f-0c7f0f79e192" } ], "numberOfEvents": 6 }
{ "repository": "aiops", "timestamp": "2021-03-18T06:25:57.909Z", "alert": { "name": "RobotShopFrontendProblem", "description": "resource.name=\"web-deployment\" severity=Minor resource.hostname=web-deployment type.eventType=\"robotshop\"", "query": { "queryString": "\"kubernetes.namespace_name\" = \"robot-shop\"\n| @rawstring = /Error: failed with status code 500/i\n| \"kubernetes.container_name\" = web-deployment ", "end": "now", "start": "15s" }, "notifierID": "GelcGmqHi7lKlqc8mvbfOODMn04cESAh", "id": "Ve7EcwvyhhGTsgLglKDug64ofbV6ODoG" }, "warnings": "", "events": [ { "kubernetes.namespace_name": "robot-shop", "@timestamp": 1616048748853, "kubernetes.host": "10.194.163.29", "kubernetes.container_hash": "docker.io/robotshop/rs-web-deployment@sha256:f333c26d08cd4f8d649cd0a891d5f80cc9c26a846d745dcac27d5c5210bdbc89", "kubernetes.docker_id": "e2d7e631b1ed7dc580e1fa17a6cb8b40a086abbf47a089af70b015ba3502abf2", "kubernetes.container_name": "web-deployment", "kubernetes.labels.pod-template-hash": "78c8597bdb", "kubernetes.container_image": "docker.io/robotshop/rs-web-deployment:latest", "kubernetes.annotations.k8s_v1_cni_cncf_io/networks-status": "[{\n \"name\": \"k8s-pod-network\",\n \"ips\": [\n \"172.30.220.148\"\n ],\n \"default\": true,\n \"dns\": {}\n}]", "@timezone": "Z", "#humioAutoShard": "0", "kubernetes.annotations.cni_projectcalico_org/podIPs": "172.30.220.148/32", "kubernetes.labels.service": "web-deployment", "@rawstring": "2021-03-18T01:25:48.853846252-05:00 stdout F {\"level\":\"info\",\"time\":1616048748853,\"pid\":1,\"hostname\":\"web-deployment-78c8597bdb-zpwkl\",\"req\":{\"id\":99713,\"method\":\"GET\",\"url\":\"/categories\",\"headers\":{\"host\":\"web-deployment:8080\",\"connection\":\"close\",\"user-agent\":\"Mozilla/5.0 (Macintosh; Intel Mac OS X 10.15; rv:88.0) Gecko/20100101 Firefox/88.0\",\"accept\":\"application/json, text/plain, */*\",\"accept-language\":\"en\",\"accept-encoding\":\"gzip, deflate\",\"x-instana-t\":\"7774d22e48eb6da\",\"x-instana-s\":\"7774d22e48eb6da\",\"x-instana-l\":\"1,correlationType=web;correlationId=7774d22e48eb6da\",\"referer\":\"http://robotshop-robot-shop.demo215-prod-cluster-a376efc1170b9b8ace6422196c51e491-0000.eu-de.containers.appdomain.cloud/\",\"x-forwarded-host\":\"robotshop-robot-shop.demo215-prod-cluster-a376efc1170b9b8ace6422196c51e491-0000.eu-de.containers.appdomain.cloud\",\"x-forwarded-port\":\"80\",\"x-forwarded-proto\":\"http\",\"forwarded\":\"for=10.194.163.17;host=robotshop-robot-shop.demo215-prod-cluster-a376efc1170b9b8ace6422196c51e491-0000.eu-de.containers.appdomain.cloud;proto=http\",\"x-forwarded-for\":\"10.194.163.17\"},\"remoteAddress\":\"::ffff:172.30.24.123\",\"remotePort\":54982},\"res\":{\"statusCode\":500,\"headers\":{\"server-timing\":\"intid;desc=51193495e3291e46\",\"x-powered-by\":\"Express\",\"timing-allow-origin\":\"*\",\"access-control-allow-origin\":\"*\",\"content-type\":\"application/json; charset=utf-8\",\"content-length\":\"66\",\"etag\":\"W/\\\"42-BnaYEIk0wbf4e3CVqRpZYTmQ43w\\\"\"}},\"err\":{\"type\":\"Error\",\"message\":\"failed with status code 500\",\"stack\":\"Error: failed with status code 500\\n at ServerResponse.onResFinished (/opt/server/node_modules/pino-http/logger.js:67:38)\\n at ServerResponse.clsBind (/opt/server/node_modules/@instana/core/src/tracing/clsHooked/context.js:196:17)\\n at ServerResponse.emit (events.js:203:15)\\n at ServerResponse.emitted (/opt/server/node_modules/emitter-listener/listener.js:134:21)\\n at onFinish (_http_outgoing.js:671:10)\\n at process._tickCallback (internal/process/next_tick.js:61:11)\"},\"responseTime\":19625,\"msg\":\"request errored \",\"v\":1}", "@id": "e83fxE7AEyT5XVPehBmvRymR_1275_912_1616048748", "kubernetes.annotations.openshift_io/scc": "anyuid", "#type": "unparsed", "kubernetes.annotations.k8s_v1_cni_cncf_io/network-status": "[{\n \"name\": \"k8s-pod-network\",\n \"ips\": [\n \"172.30.220.148\"\n ],\n \"default\": true,\n \"dns\": {}\n}]", "kubernetes.annotations.cni_projectcalico_org/podIP": "172.30.220.148/32", "#repo": "aiops", "kubernetes.pod_name": "web-deployment-78c8597bdb-zpwkl", "kubernetes.pod_id": "cee51cdc-73d7-4e39-861f-0c7f0f79e192" } ], "numberOfEvents": 6 }
