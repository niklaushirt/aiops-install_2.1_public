{ "repository": "aiops", "timestamp": "2021-02-12T12:01:35.033Z", "alert": { "name": "SockShopCatalogue", "description": "resource.name=\"catalogue\" severity=Major resource.hostname=catalogue type.eventType=\"sockshop\"", "query": { "queryString": "\"kubernetes.namespace_name\" = sockinfo \n| \"kubernetes.pod_name\" = /carts|front-end/i | \"kubernetes.pod_name\" != /carts-db|catalogue-db/i | stripAnsiCodes(@rawstring)\n| \"@rawstring\" = /catalogue 500 /i ", "end": "now", "start": "5s" }, "notifierID": "1BH5LtuC63rViKH79kotQ8jQFggKw0oj", "id": "NhyRGUeGIt6lUTbOQmIriy6FgfIJpRQG" }, "warnings": "", "events": [{ "kubernetes.namespace_name": "sockinfo", "@timestamp": 1613131293415, "kubernetes.host": "10.126.57.100", "kubernetes.container_hash": "docker.io/weaveworksdemos/front-end@sha256:26a2d9b6b291dee2dca32fca3f5bff6c2fa07bb5954359afcbc8001cc70eac71", "kubernetes.docker_id": "2550d08a3e9a9f055a1d7d085606028d0aafe44487d6bf4dee430a3129b47dbd", "kubernetes.labels.app": "sockinfo", "kubernetes.container_name": "front-end", "kubernetes.labels.pod-template-hash": "9ddb54bc4", "kubernetes.container_image": "docker.io/weaveworksdemos/front-end:0.3.12", "kubernetes.labels.version": "v1", "@timezone": "Z", "kubernetes.annotations.cni_projectcalico_org/podIPs": "172.30.77.171/32", "@rawstring": "2021-02-12T06:01:33.415242653-06:00 stdout F GET /catalogue 500 1006.836 ms - 162", "@id": "lE9Ae9aFPBPmblKTjuv3pQNU_211_679_1613131293", "kubernetes.annotations.openshift_io/scc": "anyuid", "#type": "unparsed", "kubernetes.annotations.k8s_v1_cni_cncf_io/network-status": "[{\n \"name\": \"k8s-pod-network\",\n \"ips\": [\n \"172.30.77.171\"\n ],\n \"default\": true,\n \"dns\": {}\n}]", "kubernetes.annotations.cni_projectcalico_org/podIP": "172.30.77.171/32", "#repo": "aiops", "kubernetes.pod_name": "front-end-9ddb54bc4-x9s8j", "kubernetes.pod_id": "01d127c7-41e4-4a13-adfb-dfae16dfff3f", "kubernetes.annotations.k8s_v1_cni_cncf_io/networks-status": "[{\n \"name\": \"k8s-pod-network\",\n \"ips\": [\n \"172.30.77.171\"\n ],\n \"default\": true,\n \"dns\": {}\n}]", "kubernetes.labels.name": "front-end" }], "numberOfEvents": 1}
{ "repository": "aiops", "timestamp": "2021-02-12T12:01:35.033Z", "alert": { "name": "SockShopAvailability", "description": "resource.name=\"front-end\" severity=Minor resource.hostname=front-end type.eventType=\"sockshop\"", "query": { "queryString": "\"kubernetes.namespace_name\" = sockinfo \n| \"kubernetes.pod_name\" = /carts|front-end/i | \"kubernetes.pod_name\" != /carts-db|catalogue-db/i | stripAnsiCodes(@rawstring)\n| \"@rawstring\" = /catalogue 500 /i ", "end": "now", "start": "5s" }, "notifierID": "1BH5LtuC63rViKH79kotQ8jQFggKw0oj", "id": "QH8uSwB2Mg4FfiBAcGmqLlL1dtpPzUM9" }, "warnings": "", "events": [{ "kubernetes.namespace_name": "sockinfo", "@timestamp": 1613131293415, "kubernetes.host": "10.126.57.100", "kubernetes.container_hash": "docker.io/weaveworksdemos/front-end@sha256:26a2d9b6b291dee2dca32fca3f5bff6c2fa07bb5954359afcbc8001cc70eac71", "kubernetes.docker_id": "2550d08a3e9a9f055a1d7d085606028d0aafe44487d6bf4dee430a3129b47dbd", "kubernetes.labels.app": "sockinfo", "kubernetes.container_name": "front-end", "kubernetes.labels.pod-template-hash": "9ddb54bc4", "kubernetes.container_image": "docker.io/weaveworksdemos/front-end:0.3.12", "kubernetes.labels.version": "v1", "@timezone": "Z", "kubernetes.annotations.cni_projectcalico_org/podIPs": "172.30.77.171/32", "@rawstring": "2021-02-12T06:01:33.415242653-06:00 stdout F GET /catalogue 500 1006.836 ms - 162", "@id": "lE9Ae9aFPBPmblKTjuv3pQNU_211_679_1613131293", "kubernetes.annotations.openshift_io/scc": "anyuid", "#type": "unparsed", "kubernetes.annotations.k8s_v1_cni_cncf_io/network-status": "[{\n \"name\": \"k8s-pod-network\",\n \"ips\": [\n \"172.30.77.171\"\n ],\n \"default\": true,\n \"dns\": {}\n}]", "kubernetes.annotations.cni_projectcalico_org/podIP": "172.30.77.171/32", "#repo": "aiops", "kubernetes.pod_name": "front-end-9ddb54bc4-x9s8j", "kubernetes.pod_id": "01d127c7-41e4-4a13-adfb-dfae16dfff3f", "kubernetes.annotations.k8s_v1_cni_cncf_io/networks-status": "[{\n \"name\": \"k8s-pod-network\",\n \"ips\": [\n \"172.30.77.171\"\n ],\n \"default\": true,\n \"dns\": {}\n}]", "kubernetes.labels.name": "front-end" }], "numberOfEvents": 1}
{ "repository": "aiops", "timestamp": "2021-02-12T12:01:35.033Z", "alert": { "name": "SockShopCatalogue", "description": "resource.name=\"catalogue-pod\" severity=Critical resource.hostname=catalogue-pod type.eventType=\"sockshop\"", "query": { "queryString": "\"kubernetes.namespace_name\" = sockinfo \n| \"kubernetes.pod_name\" = /carts|front-end/i | \"kubernetes.pod_name\" != /carts-db|catalogue-db/i | stripAnsiCodes(@rawstring)\n| \"@rawstring\" = /catalogue 500 /i ", "end": "now", "start": "5s" }, "notifierID": "1BH5LtuC63rViKH79kotQ8jQFggKw0oj", "id": "QH8uSwB2Mg4FfiBAcGmqLlL1dtpPzUM9" }, "warnings": "", "events": [{ "kubernetes.namespace_name": "sockinfo", "@timestamp": 1613131293415, "kubernetes.host": "10.126.57.100", "kubernetes.container_hash": "docker.io/weaveworksdemos/front-end@sha256:26a2d9b6b291dee2dca32fca3f5bff6c2fa07bb5954359afcbc8001cc70eac71", "kubernetes.docker_id": "2550d08a3e9a9f055a1d7d085606028d0aafe44487d6bf4dee430a3129b47dbd", "kubernetes.labels.app": "sockinfo", "kubernetes.container_name": "catalogue", "kubernetes.labels.pod-template-hash": "9ddb54bc4", "kubernetes.container_image": "docker.io/weaveworksdemos/catalogue:0.3.12", "kubernetes.labels.version": "v1", "@timezone": "Z", "kubernetes.annotations.cni_projectcalico_org/podIPs": "172.30.77.171/32", "@rawstring": "2021-02-12T06:01:33.415242653-06:00 stdout F GET /catalogue 500 1006.836 ms - 162", "@id": "lE9Ae9aFPBPmblKTjuv3pQNU_211_679_1613131293", "kubernetes.annotations.openshift_io/scc": "anyuid", "#type": "unparsed", "kubernetes.annotations.k8s_v1_cni_cncf_io/network-status": "[{\n \"name\": \"k8s-pod-network\",\n \"ips\": [\n \"172.30.77.171\"\n ],\n \"default\": true,\n \"dns\": {}\n}]", "kubernetes.annotations.cni_projectcalico_org/podIP": "172.30.77.171/32", "#repo": "aiops", "kubernetes.pod_name": "catalogue-9ddb54bc4-x9s8j", "kubernetes.pod_id": "01d127c7-41e4-4a13-adfb-dfae16dfff3f", "kubernetes.annotations.k8s_v1_cni_cncf_io/networks-status": "[{\n \"name\": \"k8s-pod-network\",\n \"ips\": [\n \"172.30.77.171\"\n ],\n \"default\": true,\n \"dns\": {}\n}]", "kubernetes.labels.name": "catalogue" }], "numberOfEvents": 1}
